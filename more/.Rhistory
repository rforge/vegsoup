library(rgdal)
pt <- readOGR("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/pt_plots", "pt_plots")
pt
coordinates(pt)
pt <- readOGR("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/pt_plots", "pt_plots")
proj4string(pt)
pt <- spTransform(pt, CRS("+init=epsg:4326"))
coordinates(pt)
foo <- coordinates(pt)
foo[1,1]
?coordiantes
?coordinates
foo <- coordinates(pt, digist = 7)
foo <- coordinates(pt, digits = 7)
foo
cbind(coordinates(pt), pt)
names(pt)
cbind(coordinates(pt), pt$vegnr)
pt
pt
foo <- cbind(coordinates(pt), pt$vegnr)
write.csv2(foo, "foo.csv")
#	stack sites data frame to match database structure#
#
stack.sites <- function (filename) {#
#
sites <- read.csv2(filename, colClasses = "character")#
#
sites.stack <- stack(sites)#
sites.stack[,1] <- as.character(sites.stack[,1])#
sites.stack[,2] <- as.character(sites.stack[,2])#
plot <- sites.stack[sites.stack$ind == "plot",]$values#
plot <- rep(plot, (nrow(sites.stack)/length(plot))- 1)#
sites.stack <- sites.stack[!sites.stack$ind == "plot",]#
sites.stack <- data.frame(plot,#
	variable = sites.stack[,2],#
	value = sites.stack[,1])#
sites.stack <- sites.stack[order(sites.stack$plot),]#
sites.stack[is.na(sites.stack)] <- ""#
rownames(sites.stack) <- 1:nrow(sites.stack)#
sites <- sites.stack#
return(sites)#
}#
#
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites2.csv")
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites.csv")
sites
#	stack sites data frame to match database structure#
#
stack.sites <- function (filename) {#
#
sites <- read.csv2(filename, colClasses = "character")#
#
sites.stack <- stack(sites)#
sites.stack[,1] <- as.character(sites.stack[,1])#
sites.stack[,2] <- as.character(sites.stack[,2])#
plot <- sites.stack[sites.stack$ind == "plot",]$values#
plot <- rep(plot, (nrow(sites.stack)/length(plot))- 1)#
sites.stack <- sites.stack[!sites.stack$ind == "plot",]#
sites.stack <- data.frame(plot,#
	variable = sites.stack[,2],#
	value = sites.stack[,1])#
sites.stack <- sites.stack[order(sites.stack$plot),]#
sites.stack[is.na(sites.stack)] <- ""#
rownames(sites.stack) <- 1:nrow(sites.stack)#
sites <- sites.stack#
return(sites)#
}#
#
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites.csv")
#	stack sites data frame to match database structure#
#
stack.sites <- function (filename) {#
#
sites <- read.csv2(filename, colClasses = "character")#
#
sites.stack <- stack(sites)#
sites.stack[,1] <- as.character(sites.stack[,1])#
sites.stack[,2] <- as.character(sites.stack[,2])#
plot <- sites.stack[sites.stack$ind == "plot",]$values#
plot <- rep(plot, (nrow(sites.stack)/length(plot))- 1)#
sites.stack <- sites.stack[!sites.stack$ind == "plot",]#
sites.stack <- data.frame(plot,#
	variable = sites.stack[,2],#
	value = sites.stack[,1])#
sites.stack <- sites.stack[order(sites.stack$plot),]#
sites.stack[is.na(sites.stack)] <- ""#
rownames(sites.stack) <- 1:nrow(sites.stack)#
sites <- sites.stack#
return(sites)#
}#
#
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites.csv")
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites2.csv")
#	stack sites data frame to match database structure#
#
stack.sites <- function (filename) {#
#
sites <- read.csv2(filename, colClasses = "character")#
#
sites.stack <- stack(sites)#
sites.stack[,1] <- as.character(sites.stack[,1])#
sites.stack[,2] <- as.character(sites.stack[,2])#
plot <- sites.stack[sites.stack$ind == "plot",]$values#
plot <- rep(plot, (nrow(sites.stack)/length(plot))- 1)#
sites.stack <- sites.stack[!sites.stack$ind == "plot",]#
sites.stack <- data.frame(plot,#
	variable = sites.stack[,2],#
	value = sites.stack[,1])#
sites.stack <- sites.stack[order(sites.stack$plot),]#
sites.stack[is.na(sites.stack)] <- ""#
rownames(sites.stack) <- 1:nrow(sites.stack)#
sites <- sites.stack#
return(sites)#
}#
#
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/sites2.csv")
#	stack sites data frame to match database structure#
#
stack.sites <- function (filename) {#
#
sites <- read.csv2(filename, colClasses = "character")#
#
sites.stack <- stack(sites)#
sites.stack[,1] <- as.character(sites.stack[,1])#
sites.stack[,2] <- as.character(sites.stack[,2])#
plot <- sites.stack[sites.stack$ind == "plot",]$values#
plot <- rep(plot, (nrow(sites.stack)/length(plot))- 1)#
sites.stack <- sites.stack[!sites.stack$ind == "plot",]#
sites.stack <- data.frame(plot,#
	variable = sites.stack[,2],#
	value = sites.stack[,1])#
sites.stack <- sites.stack[order(sites.stack$plot),]#
sites.stack[is.na(sites.stack)] <- ""#
rownames(sites.stack) <- 1:nrow(sites.stack)#
sites <- sites.stack#
return(sites)#
}#
#
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bockhart dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bockhart dta/sites2.csv")
pt <- readOGR("/Users/roli/Documents/gastein/dta/shp/pt_vegetc", "pt_vegetc")
coordinates(pt)
coordinates(pt)
names(pt)
foo <- cbind(pt$comment, coordinates(pt))
write.csv2(foo, "foo.csv")
foo <- cbind(pt$comment, coordinates(pt))
foo
names(pt)
foo <- cbind(pt$Comment, coordinates(pt))
foo
foo <- cbind(as.character(pt$Comment), coordinates(pt))
foo
write.csv2(foo, "foo.csv")
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/fuschl dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/fuschl dta/sites2.csv")
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/gmunden dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/gmunden dta/sites2.csv")
pt <- readOGR("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/hohewand dta/pt_plots", "pt_plots")
foo <- cbind(as.character(pt$plot), coordinates(pt))
foo
names(pt)
coordinates(pt)
foo <- cbind(as.character(pt$plot), coordinates(pt))
write.csv2(foo, "foo.csv")
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/hohewand dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/hohewand dta/sites2.csv")
pt <- readOGR("/Users/roli/Dropbox/amadeus/dta/shp/pt_plots", "pt_plots")
names(pt)
foo <- cbind(as.character(pt$PLOT), coordinates(pt))
foo
write.csv2(foo, "foo.csv")
pt <- readOGR("/Users/roli/Dropbox/amadeus/dta/shp/pt_plots", "pt_plots")
proj4string(pt)
pt <- spTransform(pt, CRS("+init=epsg:4326"))
pt <- readOGR("/Users/roli/Dropbox/amadeus/dta/shp/pt_plots", "pt_plots")
z <- coordinates(pt)[,3]
z
pt <- readOGR("/Users/roli/Dropbox/amadeus/dta/shp/pt_plots", "pt_plots")
pt <- spTransform(pt, CRS("+init=epsg:4326"))
pt
foo <- cbind(as.character(pt$PLOT), coordinates(pt), z)
foo
write.csv2(foo, "foo.csv")
sites <- stack.sites("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/amadeus dta/sites.csv")#
#
write.csv2(sites, "/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/amadeus dta/sites2.csv")
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")
head(df)
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(df[,c(1,2,3)],#
	df[,c(1,2,4)],#
	df[,c(1,2,5)])
as.matrix(df[,c(1,2,3)])
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	as.matrix(df[,c(1,2,3)]),#
	as.matrix(df[,c(1,2,4)]),#
	as.matrix(df[,c(1,2,5)]))
df
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")
df
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	as.matrix(df[,c(1,2,3)]),#
	as.matrix(df[,c(1,2,4)]),#
	as.matrix(df[,c(1,2,5)]))
df
df <- df[df[,3] != "",]
df
as.matrix(df[,c(1,2,3)])
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")
names(df)
	cbind("hl", as.matrix(df[,c(1,2,3)]))
names(df)
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	cbind("hl", as.matrix(df[,c(1,2,3)])),#
	cbind("sl", as.matrix(df[,c(1,2,4)])),#
	cbind("tl", as.matrix(df[,c(1,2,5)])),#
	cbind("ml", as.matrix(df[,c(1,2,6)])))	#
df <- df[df[,3] != "",]
df
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	cbind("hl", as.matrix(df[,c(1,2,3)])),#
	cbind("sl", as.matrix(df[,c(1,2,4)])),#
	cbind("tl", as.matrix(df[,c(1,2,5)])),#
	cbind("ml", as.matrix(df[,c(1,2,6)])))	#
df <- df[df[,3] != "",]#
#
write.csv2(df, "foo.csv")
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	cbind("hl", as.matrix(df[,c(1,2,3)])),#
	cbind("sl", as.matrix(df[,c(1,2,4)])),#
	cbind("tl", as.matrix(df[,c(1,2,5)])),#
	cbind("ml", as.matrix(df[,c(1,2,6)])))	#
df <- df[df[,4] != "",]
df
df <- read.csv2("/Users/roli/Dropbox/Rpackages/vegsoup/debug/testing/bitzenberg dta/species.csv", colClasses = "character")#
#
#
df <- rbind(#
	cbind("hl", as.matrix(df[,c(1,2,3)])),#
	cbind("sl", as.matrix(df[,c(1,2,4)])),#
	cbind("tl", as.matrix(df[,c(1,2,5)])),#
	cbind("ml", as.matrix(df[,c(1,2,6)])))	#
df <- df[df[,4] != "",]#
#
write.csv2(df, "foo.csv")
